var Maps=function(){var a=function(){a=new GMaps({el:"#map1",lat:-12.043333,lng:-77.028333}),map2=new GMaps({div:"#map2",lat:-12.043333,lng:-77.028333}),map2.addMarker({lat:-12.043333,lng:-77.03,title:"Lima",details:{database_id:42,author:"HPNeo"},click:function(a){console.log&&console.log(a),alert("You clicked in this marker")}}),map2.addMarker({lat:-12.042,lng:-77.028333,title:"Marker with InfoWindow",height:"200px",infoWindow:{content:"<p>HTML Content</p>"}}),panorama=GMaps.createPanorama({el:"#map3",lat:42.3455,lng:-71.0983}),a=new GMaps({div:"#map4",lat:-12.043333,lng:-77.028333}),$("#geocoding_form").submit(function(b){b.preventDefault(),GMaps.geocode({address:$("#address").val().trim(),callback:function(b,c){if("OK"==c){var d=b[0].geometry.location;a.setCenter(d.lat(),d.lng()),a.addMarker({lat:d.lat(),lng:d.lng()})}}})});var a;$(document).on("submit",".edit_marker",function(b){b.preventDefault();var c=$(this).data("marker-index");$lat=$("#marker_"+c+"_lat").val(),$lng=$("#marker_"+c+"_lng").val();var d=$("#edit_marker_template").text(),e=d.replace(/{{index}}/g,c).replace(/{{lat}}/g,$lat).replace(/{{lng}}/g,$lng);a.markers[c].setPosition(new google.maps.LatLng($lat,$lng)),a.markers[c].infoWindow.setContent(e),$marker=$("#markers-with-coordinates").find("li").eq(0).find("a"),$marker.data("marker-lat",$lat),$marker.data("marker-lng",$lng)}),$(document).on("click",".pan-to-marker",function(b){b.preventDefault();var c,d,e=$(this).data("marker-index"),f=$(this).data("marker-lat"),g=$(this).data("marker-lng");if(void 0!=e){var h=a.markers[e].getPosition();c=h.lat(),d=h.lng()}else c=f,d=g;a.setCenter(c,d)}),a=new GMaps({div:"#map5",lat:-12.043333,lng:-77.028333}),GMaps.on("marker_added",a,function(b){$("#map-ui").append('<tr><td><a href="#" class="pan-to-marker" data-marker-index="'+a.markers.indexOf(b)+'">'+b.title+'</a></td><td><a href="#" class="pan-to-marker" data-marker-lat="'+b.getPosition().lat()+'" data-marker-lng="'+b.getPosition().lng()+'">'+b.title+"</a></td></tr>")}),GMaps.on("click",a.map,function(b){var c=a.markers.length,d=b.latLng.lat(),e=b.latLng.lng(),f=$("#edit_marker_template").text(),g=f.replace(/{{index}}/g,c).replace(/{{lat}}/g,d).replace(/{{lng}}/g,e);a.addMarker({lat:d,lng:e,title:"Marker #"+c,infoWindow:{content:g}})})};return{init:function(){a()}}}();